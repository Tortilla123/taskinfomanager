<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <title>Edit Tasks</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link th:href="@{/css/addTasks.css}" href="../../webapp/css/addTasks.css" rel="stylesheet" type="text/css" media="all" />

</head>
<body >
<div><h2>Edit Task</h2>
    <form action = "#" th:action = "@{/editTask/{incidentId}(incidentId=${tasks.incidentId})}"  th:object="${tasks}" method = "post" >

        <label>Incident Id:  </label>
        <input type="text" th:field="*{incidentId}" readonly />

        <label>Application name:  </label>
        <select th:field="*{appName}" >
            <option th:each="appName : ${listAppNames}" th:value = "${appName}" th:text="${appName}"> </option>
        </select>
        <small><span th:if="${#fields.hasErrors('appName')}" class="alert alert-danger" th:errors="*{appName}"></span></small><br>

        <label>Group Id </label>
        <select th:field="*{groupId}" >
            <option th:each="groupId : ${listGroupIds}" th:value = "${groupId}" th:text="${groupId}"> </option>
        </select>
        <small><span th:if="${#fields.hasErrors('groupId')}" class="alert alert-danger" th:errors="*{groupId}"></span></small><br>

        <label>Incident type:  </label>
        <select th:field="*{incidentType}" >
            <option th:each="incidentType : ${listIncidentType}" th:value = "${incidentType}" th:text="${incidentType}"> </option>
        </select>
        <small><span th:if="${#fields.hasErrors('incidentType')}" class="alert alert-danger" th:errors="*{incidentType}"></span></small><br>

        <label>Summary: </label>
        <textarea th:field="*{summary}" rows = "3" placeholder="Provide description..."></textarea>
        <small><span th:if="${#fields.hasErrors('summary')}" class="alert alert-danger" th:errors="*{summary}"></span></small><br>

        <label>Employee Id:  </label>
        <input type="number" th:field="*{empId}" onkeydown="return event.keyCode !== 69" />
        <small><span th:if="${#fields.hasErrors('empId')}" class="alert alert-danger" th:errors="*{empId}"></span></small><br>

        <label>Submit Date:  </label>
        <input type="datetime-local" th:field="*{submitDate}"  />
        <small><span th:if="${#fields.hasErrors('submitDate')}" class="alert alert-danger" th:errors="*{submitDate}"></span></small><br>

        <label>Closed Date: </label>
        <input type="datetime-local" th:field="*{closedDate}"  />
        <small><span th:if="${#fields.hasErrors('closedDate')}" class="alert alert-danger" th:errors="*{closedDate}"></span></small><br>

        <label>Impact: </label>
        <select th:field="*{impact}" >
            <option th:each="impactType : ${listImpact}" th:value = "${impactType}" th:text="${impactType}"> </option>
        </select>
        <small><span th:if="${#fields.hasErrors('impact')}" class="alert alert-danger" th:errors="*{impact}"></span></small><br>

        <label>Resolution: </label>
        <textarea th:field="*{resolution}" rows = "2" placeholder="Provide description..."></textarea>
        <small><span th:if="${#fields.hasErrors('resolution')}" class="alert alert-danger" th:errors="*{resolution}"></span></small><br>

        <label>Res Cate Tier 1: </label>
        <select th:field="*{resCateTier1}" >
            <option th:each="resCateTier1 : ${listResCateTier1}" th:value = "${resCateTier1}" th:text="${resCateTier1}"> </option>
        </select>
        <small><span th:if="${#fields.hasErrors('resCateTier1')}" class="alert alert-danger" th:errors="*{resCateTier1}"></span></small><br>

        <label>Status: </label>
        <input type="text" th:field="*{status}"  placeholder="Open or Closed?"/>
        <small><span th:if="${#fields.hasErrors('status')}" class="alert alert-danger" th:errors="*{status}"></span></small><br>

        <label>Responded Date: </label>
        <input type="datetime-local" th:field="*{respondedDate}"  />
        <small><span th:if="${#fields.hasErrors('respondedDate')}" class="alert alert-danger" th:errors="*{respondedDate}"></span></small><br>

        <label>Res Cate Tier 3: </label>
        <select th:field="*{resCateTier3}" >
            <option th:each="resCateTier3 : ${listResCateTier3}" th:value = "${resCateTier3}" th:text="${resCateTier3}"> </option>
        </select>
        <small><span th:if="${#fields.hasErrors('resCateTier3')}" class="alert alert-danger" th:errors="*{resCateTier3}"></span></small><br>

        <label>Target Date: </label>
        <input type="datetime-local" th:field="*{targetDate}"  />
        <small><span th:if="${#fields.hasErrors('targetDate')}" class="alert alert-danger" th:errors="*{targetDate}"></span></small><br>

        <label>Maintenance Id: </label>
        <input type="number" th:field="*{maintId}"  />
        <small><span th:if="${#fields.hasErrors('maintId')}" class="alert alert-danger" th:errors="*{maintId}"></span></small><br>

        <label>Maintenance Date: </label>
        <input type="datetime-local" th:field="*{maintTS}"  />
        <small><span th:if="${#fields.hasErrors('maintTS')}" class="alert alert-danger" th:errors="*{maintTS}"></span></small><br>

        <br><p><input type="submit" value="Submit" /> <input type="reset" value="Reset" /></p>

    </form><br><br>
</div>
</body>
</html>